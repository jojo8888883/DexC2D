Sora视频自动化生成工具 - 使用说明
===========================

此工具用于自动化Sora平台上的视频生成过程，包括上传图片、输入提示文本和下载生成的视频。

# 最佳使用方法（分步进行）

## 1. 启动调试模式Chrome

首先，使用`chrome_debug_fix.bat`启动带调试端口的Chrome:

```
chrome_debug_fix.bat
```

这个批处理文件将：
- 自动查找Chrome安装位置
- 询问是否关闭现有Chrome进程
- 启动带有调试端口(9222)的Chrome
- 使用单独的用户配置文件(Chrome-Debug-Profile)
- 打开Sora网站

## 2. 登录Sora账户

在Chrome浏览器中登录您的Sora账户，确保能够正常访问。

## 3. 运行自动化脚本

登录成功后，运行：

```
python improved_sora_auto.py [图片路径] [提示文本文件] [输出目录]
```

如果不指定参数，将使用默认值：
- 图片路径：color_000000.png
- 提示文本：prompt.txt
- 输出目录：./videos

# 故障排除

## 连接Chrome失败

如果脚本无法连接到Chrome：
1. 确保Chrome确实以调试模式启动：在Chrome中输入`chrome://version`检查命令行参数
2. 确认调试端口已开启：在命令行中输入`netstat -ano | findstr :9222`
3. 检查是否有防火墙或安全软件阻止了连接
4. 尝试重启Chrome和电脑

## 界面元素识别失败

如果脚本无法找到页面元素：
1. 查看生成的截图文件(如 page_loaded.png, input_not_found.png 等)
2. 确认Sora界面没有更改
3. 检查网络连接是否稳定
4. 可能需要手动更新脚本中的选择器

# 不同的启动方式

1. **调试模式Chrome（推荐）**:
   ```
   chrome_debug_fix.bat
   ```

2. **简单启动**:
   ```
   simple_start.bat
   ```

3. **一键式解决方案（需要修复）**:
   ```
   all_in_one.bat
   ```

# 关于Chrome调试端口

连接到Chrome的调试端口(9222)是此脚本的核心功能。要验证Chrome是否正确打开了调试端口，请在浏览器中访问：
```
http://localhost:9222/json/version
```

应该显示一个JSON响应，包含Chrome版本等信息。

# 开发者说明

如果需要进一步调整脚本，主要修改以下文件：
- improved_sora_auto.py: 自动化流程的主要Python脚本
- chrome_debug_fix.bat: 启动调试模式Chrome的批处理文件

您可以通过在Chrome中检查Sora网站的HTML结构，更新脚本中的选择器，使其与最新的Sora界面兼容。 